# FGK Adaptive Huffman Encoder

–†–µ–∞–ª–∏–∑–∞—Ü–∏—è –∞–ª–≥–æ—Ä–∏—Ç–º–∞ **–¥–∏–Ω–∞–º–∏—á–µ—Å–∫–æ–≥–æ –∫–æ–¥–∏—Ä–æ–≤–∞–Ω–∏—è FGK (Faller‚ÄìGallager‚ÄìKnuth)** –Ω–∞ —á–∏—Å—Ç–æ–º Python:

- ‚úÖ –ë–µ–∑ –û–û–ü
- ‚úÖ –ë–µ–∑ –≤–Ω–µ—à–Ω–∏—Ö –±–∏–±–ª–∏–æ—Ç–µ–∫ (–∫—Ä–æ–º–µ `loguru` –¥–ª—è –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è)
- ‚úÖ –ü–æ–¥–¥–µ—Ä–∂–∫–∞ –ª—é–±—ã—Ö –±–∏–Ω–∞—Ä–Ω—ã—Ö —Ñ–∞–π–ª–æ–≤
- ‚úÖ CLI-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å —Å —Ü–≤–µ—Ç–Ω—ã–º–∏ –ª–æ–≥–∞–º–∏
- ‚úÖ –ü–æ–ª–Ω—ã–µ encode/decode —Ü–∏–∫–ª—ã
- ‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ —Ç–µ—Å—Ç—ã

> –ü–æ–¥—Ö–æ–¥–∏—Ç –¥–ª—è –¥–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏–∏ —Å–ª–æ–∂–Ω—ã—Ö –∞–ª–≥–æ—Ä–∏—Ç–º–æ–≤, —É—á–µ–±–Ω—ã—Ö –ø—Ä–æ–µ–∫—Ç–æ–≤, —Ñ—Ä–∏–ª–∞–Ω—Å-–∑–∞–∫–∞–∑–æ–≤.

---

## üõ†Ô∏è –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∏ –∑–∞–ø—É—Å–∫

### 1. –ö–ª–æ–Ω–∏—Ä—É–π—Ç–µ –∏–ª–∏ —Å–æ–∑–¥–∞–π—Ç–µ –ø—Ä–æ–µ–∫—Ç

```powershell
git clone <–≤–∞—à-—Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π>
cd fgk-tool
```

### 2. –°–æ–∑–¥–∞–π—Ç–µ –≤–∏—Ä—Ç—É–∞–ª—å–Ω–æ–µ –æ–∫—Ä—É–∂–µ–Ω–∏–µ (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)

```powershell
python -m venv venv
```

**–ê–∫—Ç–∏–≤–∏—Ä—É–π—Ç–µ –µ–≥–æ:**

  * Windows (PowerShell):

      ```powershell
    .\venv\Scripts\Activate.ps1
      ```
  * Windows (CMD):

      ```powershell
    .\venv\Scripts\activate.bat
      ```

### 3. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏

```powershell
pip install -r requirements.txt
```

### 4. –ó–∞–ø—É—Å—Ç–∏—Ç–µ —Ç–µ—Å—Ç—ã

```powershell
python -m tests.test_fgk
```

### –û–∂–∏–¥–∞–µ–º—ã–π –≤—ã–≤–æ–¥:

```powershell
‚úÖ test_simple_string passed
‚úÖ test_file_roundtrip passed
üéâ All tests passed!
```

## üöÄ –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ CLI

### –ö–æ–¥–∏—Ä–æ–≤–∞–Ω–∏–µ —Ñ–∞–π–ª–∞

```powershell
python -m fgk.cli encode input.txt output.fgk
```

### –î–µ–∫–æ–¥–∏—Ä–æ–≤–∞–Ω–∏–µ —Ñ–∞–π–ª–∞

```powershell
python -m fgk.cli decode output.fgk restored.txt
```

> –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞—é—Ç—Å—è –ª—é–±—ã–µ —Ñ–∞–π–ª—ã (—Ç–µ–∫—Å—Ç, –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è, –±–∏–Ω–∞—Ä–Ω–∏–∫–∏), –Ω–µ —Ç–æ–ª—å–∫–æ `.txt.`

## üì¶ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

```yml
fgk-tool/
‚îú‚îÄ‚îÄ fgk/
‚îÇ   ‚îú‚îÄ‚îÄ __init__.py
‚îÇ   ‚îú‚îÄ‚îÄ core.py          # —á–∏—Å—Ç–∞—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è FGK
‚îÇ   ‚îî‚îÄ‚îÄ cli.py           # –∫–æ–º–∞–Ω–¥–Ω–∞—è —Å—Ç—Ä–æ–∫–∞ —Å –ª–æ–≥–∞–º–∏
‚îú‚îÄ‚îÄ tests/
‚îÇ   ‚îú‚îÄ‚îÄ __init__.py
‚îÇ   ‚îî‚îÄ‚îÄ test_fgk.py      # –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ —Ç–µ—Å—Ç—ã
‚îú‚îÄ‚îÄ requirements.txt     # –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
‚îú‚îÄ‚îÄ .gitignore           # –∏–≥–Ω–æ—Ä–∏—Ä–æ–≤–∞–Ω–∏–µ –≤—Ä–µ–º–µ–Ω–Ω—ã—Ö —Ñ–∞–π–ª–æ–≤
‚îî‚îÄ‚îÄ README.md
```

## ‚ö†Ô∏è –í–∞–∂–Ω–æ

* **–ê–ª–≥–æ—Ä–∏—Ç–º –Ω–µ –ø—Ä–µ–¥–Ω–∞–∑–Ω–∞—á–µ–Ω –¥–ª—è —Å–∂–∞—Ç–∏—è –≤ –ø—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∏—Ö —Ü–µ–ª—è—Ö ‚Äî –Ω–∞ –∫–æ—Ä–æ—Ç–∫–∏—Ö –¥–∞–Ω–Ω—ã—Ö –æ–Ω —Ä–∞—Å—à–∏—Ä—è–µ—Ç —Ñ–∞–π–ª –∏–∑-–∑–∞ overhead –Ω–∞ –ø–µ—Ä–µ–¥–∞—á—É –Ω–æ–≤—ã—Ö —Å–∏–º–≤–æ–ª–æ–≤.**
* **–†–µ–∞–ª–∏–∑–∞—Ü–∏—è —Å–ª–µ–¥—É–µ—Ç —É—á–µ–±–Ω–æ–π –º–æ–¥–µ–ª–∏ FGK: –¥–µ—Ä–µ–≤–æ —Å—Ç—Ä–æ–∏—Ç—Å—è –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏, –Ω–æ –±–µ–∑ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏ –≤–µ—Å–æ–≤ —á–µ—Ä–µ–∑ swap (–¥–ª—è —É–ø—Ä–æ—â–µ–Ω–∏—è –±–µ–∑ –û–û–ü).**
* **–ù–∞—Å—Ç–æ—è—â–∏–µ –∞—Ä—Ö–∏–≤–∞—Ç–æ—Ä—ã (`gzip`, `bzip2`) –∏—Å–ø–æ–ª—å–∑—É—é—Ç –±–æ–ª–µ–µ —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω—ã–µ –º–µ—Ç–æ–¥—ã.**

## üìù –õ–∏—Ü–µ–Ω–∑–∏—è

MIT ‚Äî –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ —Å–≤–æ–±–æ–¥–Ω–æ –≤ –ª–∏—á–Ω—ã—Ö –∏ –∫–æ–º–º–µ—Ä—á–µ—Å–∫–∏—Ö —Ü–µ–ª—è—Ö.

## ‚úÖ –ü—Ä–æ–≤–µ—Ä–∫–∞

–í—ã–ø–æ–ª–Ω–∏ –≤ –∫–æ—Ä–Ω–µ –ø—Ä–æ–µ–∫—Ç–∞:

```powershell
# –ê–∫—Ç–∏–≤–∏—Ä—É–π venv, –µ—Å–ª–∏ –µ—â—ë –Ω–µ –∞–∫—Ç–∏–≤–∏—Ä–æ–≤–∞–Ω
.\venv\Scripts\Activate.ps1

# –£—Å—Ç–∞–Ω–æ–≤–∏ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
pip install -r requirements.txt

# –ó–∞–ø—É—Å—Ç–∏ —Ç–µ—Å—Ç—ã
python -m tests.test_fgk

# –ü–æ–ø—Ä–æ–±—É–π –∫–æ–¥–∏—Ä–æ–≤–∞—Ç—å/–¥–µ–∫–æ–¥–∏—Ä–æ–≤–∞—Ç—å —Ñ–∞–π–ª
echo "abracadabra" > sample.txt
python -m fgk.cli encode sample.txt sample.fgk
python -m fgk.cli decode sample.fgk sample_restored.txt

# –°—Ä–∞–≤–Ω–∏
fc sample.txt sample_restored.txt
```
